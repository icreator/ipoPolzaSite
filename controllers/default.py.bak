# -*- coding: utf-8 -*-
import datetime

### required - do no delete
#def user(): return dict(form=auth())
#def download(): return response.download(request,db)
#def call(): return service()
### end requires

#response.logo = IMG(_src=URL('static','images/logo/SAN-3-.jpg'), _width0=140)
response.pict = IMG(_src=URL('static','images/logo/SAN-3-.jpg'), _width0=140, _class='leftimg')

# если дать 2й параметр то выдаст тулбар
# {{=response.toolbar()}}
time_expire = request.is_local and 3 or 3600

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def index():
    response.title = response.subtitle = None

    h =CAT(
        H3('О нас'),
        'Инновационное потребительское общество "Польза" - первое в России юридическое лицо, в уставе которого впервые основной деятельностью объявлена деятельность с крипто-имуществом на основе технологии блокчейн (blockchain) - выпуск, учёт и хранение цифровых данных. Дата регистрации ИПО "Польза" - 06.05.2014г.',BR(),
        BR(),
        H3('О технологии блокчейн'),
        P('Blockchain - это большая база данных, в которой содержатся все транзакции, которые происходили когда либо, и все данные существовавших когда либо в данной среде учёта. Она состоит из связанных между собой блоков публичных данных. Но применяемая криптография никак не мешает читать содержимое блоков, и математически связывает блоки между собой, и при этом ни одну запись ни в одном блоке никак нельзя заменить — потому что возникнут разрывы в математике между блоками, и потребуется менять следующий за ним блок, за ним следующий и так всю цепь.'),
        P('При этом блокчейн — распределённая база данных, то есть, её копии хранятся каждой программой биткоин-кошелька (кроме мобильных кошельков). Точнее - каждый клиент имеет у себя и независимо проверяет свою копию блокчейна, и любое несоответствие, которое попытается внести любой из узлов, будет мгновенно выявлено, и такой блок будет отвергнут другими узлами и не присоединён к цепи.'),
        P('Более подробно о технологии блокчейн можнно узнать из',' ',
            A(B('статьи'), _href='http://bitnovosti.com/2014/10/02/blockchain-pomozhet-chelovechestvu/', _target='_blabk'),
            ' или целой ', A(B('подборки статей'), _href='http://forklog.com/tag/blockchain/', _target='_blabk'),
         ),
        BR(),
        )
    return dict(h=h)

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def about():
    response.title = response.subtitle = None
    h=CAT(DIV(
        H3('О нас'),
        'Инновационное потребительское общество "Польза" - первое в России юридическое лицо, в уставе которого впервые основной деятельностью объявлена деятельность с крипто-имуществом на основе технологии блокчейн (blockchain) - выпуск, учёт и хранение цифровых данных. Дата регистрации ИПО "Польза" - 06.05.2014г.',BR(),
        H4('Цели'),
        'Получение выгоды для пайщиков, улучшение благосостояния пайщиков и удовлетворение потребностей пайщиков.',
        H4('Задачи'),
        'Используя инновационные блокчейн-технологии, на основе законов России, создать производства и сервисы для достижения своих целей.',
        H4('Миссия'),
        'Сделать граждан страны и мира более свободными, равноправными и защищенными путём внедрения блокчейн технологий в повсеместную жизнь.', _class='gray1'),
        H4('Пути и способы исполнения миссии, решения задач и достижения целей.'),
        'С помощью наших ', A(T('программ'), _href=URL('progs','index')),' а так же, ',
        'используя инновации блокчейн Мы творим будущее изменяя настоящее в лучшую сторону - упрощаем учёт векселей, обязательств, взаиморасчетов, учёта взносов и паёв пайщиков, учёт акций и голосований для свои пайщиков юридических лиц. При этом мы получаем следующие преимущества:',
        UL(
        LI('цифровой учёт векселей на основе блокчейн позволяет решить вопросы фальсификаций и дублирования, а так же повышает уровень доверия в самому векселю'),
        LI('цифровой учет акций, паёв, взносов и взаиморасчётов юр.лиц позволяет обойтись без посредников (не нужны банки, депозитарии и избирательные комиссии)'),
        LI('цифровой учет голосований позволяет избежать фальсификаций, упрощает и удешевляет их'),
        LI('изменение информации идет в реальном времени с минимальными задержками - около 1-2 минут для передачи векселя, голоса, акции, денег, имущества и т.д.'),
        ),
        DIV(H4('Мы используем инновации'),
        'Наш конёк это - децентрализованная одноранговая, пиринговая, P2P система с крипто-шифрованием и распределенной базой зашифрованных данных - Блокчейн ( Blockchain ) технологи. учёта и хранения цифровых учётных единиц (данных).',
        H4('Инновационные преимущества:'),
        UL(
        LI('Так же как и наличные деньги - цифровое крипто-имущество в нашей среде учёта (векселя, паи, обязательства, деньги, имущество, голоса) всегда при Вас - либо на вашем сотовом телефоне, либо на вашем компьютере. Поэтому списать без Вашего ведома крипто-имущество невозможно.'),
        LI('Ключи доступа зашифрованы и для распоряжения имуществом требует пароль.'),
        LI('Крипто-имущество имеет высочайшую защиту от подделок, а доступ к управлению им зашифрован 2-мя уровнями криптографии.'),
        LI('Так же как и наличные деньги - цифровое крипто-имущество изначально анонимно - ни кто не знает кто им платил и у кого оно есть или было, пока Вы сами это не раскроете миру. Однако наше общество предполагает обладание каждым пайщиком хотя бы одним публичным счётом в общей среде учёта.'),
        LI('Выпуск (эмиссия) векселей, обязательств или иных учётных единиц согласуется с другими участниками, что дает высокий уровень доверия к ним. При этом Вы сами можете участвовать в создании нового крипто-имущества.'),
        LI('Стоимость ведения учёта (переводов) - комиссия за переводы - ниже чем в банковской системе и может быть задана Вами самостоятельно. от 0.1 до 5 рублей.'),
        LI('Купить разные товары или оплатить разные услуги можно у множества участников общей среды учёта без посредников.'),
        LI('И самое главное и важное - эта система децентрализована, поддерживается всеми участниками равноправно, а участие в ней бесплатно'),
        ), _class='gray1')
    )
    return dict(h=h)

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def profit():
    response.title = response.subtitle = None
    h =CAT(
        H4('О выгоде, которую получают наши пайщики'),

        #A('Наш ориентир - миллион долларов в день...', _href='http://coinspot.io/bitcoin/bitpay-obrabatyvaet-platezhi-na-million-dollarov-v-den/', _target='_blank'),
        #' и Мы уже идем к нему!',BR(),BR(),
        P('В первую очередь, мы решаем задачи для пайщиков - вести взиморасчёты минуя банковскую систему, которая тормозит развите экономики - задерживает платежи, накручивает комиссии, отбирает деньги под предлогом штрафов или банкроств.'),
        P('Вдобавок, мы получаем прибыль от ',B(A(T('наших проектов'), _href=URL('projects','index'))),' со сторонних пользователей. Эта прибыль в конце года распределяется между пайщиками согласно их паевым и трудовым вкладам, что обсуждается и утверждается общим собранием общества.'),
        'При этом наши пайщики могут пользоваться нашими проектами на более выгодных условиях чем обычные пользователи.',BR(),
        BR(),
        P('Кроме того, для достижения наилучшей выгоды для наших пайщиков, Мы используем инновационные решения и с помощью них создаем и реализуем ', B(A(T('программы'), _href=URL('progs','index'))),', направленные на получения дополнительной выгоды от совместного труда и организации.',
        ),BR(),
        P('И в добавок, мы только растем и будем запускать новые проекты, сервисы и программы, которые возможно придумаете Вы'),
        )
    return dict(h=h)

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def docs():
    response.pict = None
    h =CAT(
        H4('Документы, юридическая информация и прочее'),
        UL(
        LI('Полное название: Инновационное Потребительское Общество "Польза"'),
        LI('Сокращенное название: ИПО "Польза"'),
        LI('ОГРН: 1147746520866'),
        LI('Дата регистрации: 06 мая 2014г'),
        LI('ОГРН: 1147746520866'),
        LI('ИНН: 7722843161'),
        LI('КПП: 772201001'),
        LI('Налоговая: Межрайоная ИФНС России №46 по г.Москве'),
        ),
        B(A(T('Устав ИПО "Польза"'), _href=URL('static','docs',args=['Usrav-IPO-Polza.pdf']), _target='_blank')),BR(),
        #B(A(T('ПРОТОКОЛ №1 Учредительного Собрания'), _href=URL('static','docs',args=['PROT-1.pdf']), _target='_blank')),BR(),
        B(A(T('Полные сведения о регистрации'), _href=URL('static','docs',args=['OGRN_FULL.pdf']), _target='_blank')),BR(),
        'Взяты отсюда: ', A(_href='http://egrul.nalog.ru/', _terget='_blank'),BR(),
        BR(),
        H4(T('Банковские реквизиты')),
        UL(
        CAT(T('в Московский ОАО “Сбербанк России”'),
            
            UL(
            LI(A(T('Уведомление об открытии счета'), _href=URL('static','docs/SBER-open-886.pdf'), _target='_blank')),
            LI('к/с 30101810400000000225 в ОПЕРУ МОСКВА, г.МОСКВА'),
            LI(B('БИК 044525225')),
            LI('ИНН 7707083893'),
            LI(B('р.счет 40703810038000069886')),
            ) if False else 'в ожидании открытия'),
        CAT(T('в ОАО “АЛЬФА-БАНК”'),UL(
        LI('к/с 30101810200000000593 в ОПЕРУ МОСКВА, г.МОСКВА'),
        LI(B('БИК 044525593')),
        LI('ИНН 7728168971'),
        LI(B('р.счет 40703810502660000007')),
        )),
        ),
        BR(),
        T('Свидетельство регистрации юридического лица (ОГРН)'),':',BR(),
        A(IMG(_src=URL('static','docs',args=['OGRN-.JPG'])), _href=URL('static','docs',args=['OGRN.JPG'])),BR(),
        T('Свидетельство регистрации в налоговой службе (ИНН)'),':',BR(),
        A(IMG(_src=URL('static','docs',args=['INN-.JPG'])), _href=URL('static','docs',args=['INN.JPG'])),BR(),
        )
    return dict(h=h)

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def conts():
    h=CAT(
        H4(P('Контакты')),
        #P(T('Мы придерживаемся мнения что в современном мире физический офис для фирм и компаний нет необходимости содержать, платя лишние расходы за аренду офиса и зарплату секретаря. Мы не хотим пускать пыль в глаза своим клиентам, нам важнее сэкономить деньги наших пайщиков и выплатить им побольше кооперативных выплат. К тому же наше общество еще молодое и в офисе действительно нет необходимости. Поэтому здесь Вы найдете только контакты наших руководителей.')),
        BR(),BR(),BR(),
        DIV(CAT(
        #IMG(_src=URL('membs','download', args=['db', db.members[1].foto]), _width=200, _class='rightimg'),
        IMG(_src=URL('membs','download', args=['db', db.members[1].foto]), _width=100, _class='leftimg'),
        BR(),T('Председатель правления: '),A('Ермолаев Дмитрий Сергеевич', _href=URL('transs','index/members/view/members/1')),BR(),
        T('тел: +7(916)917-2019, скайп: i-creator, емэйл: icreator@mail.ru'),BR(),BR(),BR()), _class='gray1'),
        BR(),
        P(T('Так же можнно писать на ящик adm или support нашего почтового сервера @ipo-polza. ru')),
    )
    return dict(h=h)

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def logo():
    t = []
    for i in range(1,4):
        #print i
        r = []
        for j in range(0,4):
            #print j
            r.append(IMG(_src=URL('static/images/logo', 'logo%s.png' % i), _width=2**(3-j)*50))
        t.append(r)
    return locals()

time_expire = 30
@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def tasks1():
    # укажем сколько времени до обновления страницы
    cache_time = request.now
    dt_expire = datetime.timedelta(0, time_expire)
    h =CAT(
        H4('Первочередные Задачи'),
        UL(
        H4("Запустить программы, готовые к работе."),
        LI("Создать отдел-бюро юридической помощи по работе общества"),
        ),
        )
    return dict(h=h)

@cache.action(time_expire=time_expire, cache_model=cache.ram, vars=False, public=True, lang=True)
def tasks2():
    cache_time = request.now
    dt_expire = datetime.timedelta(0, time_expire)
    h =CAT(
        H4('Задачи, проекты, задумки'),
        UL(
        LI("Создать форум для общения пайщиков - нужен программист для небольшой правки существующих готовых решений"),
        ),
    )
    return dict(h=h)
